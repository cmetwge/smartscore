<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QA Snapshot – Instant Call-Quality Reports</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      --primary:#0052ff;
      --primary-dark:#0039cb;
      --grey:#f7f8fc;
      --text:#111322;
      --danger:#e60023;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{background:var(--grey);color:var(--text);line-height:1.6;}
    .container{max-width:580px;margin:auto;padding:2rem 1.5rem;}
    h1{font-size:2rem;margin-bottom:.5rem;font-weight:700;}
    .sub{font-size:1.1rem;color:#555;margin-bottom:1.5rem;}
    .card{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 18px rgba(0,0,0,.06);}
    label{display:block;font-weight:600;margin-bottom:.25rem;font-size:.9rem;}
    input[type=email],input[type=text],input[type=file]{
      width:100%;padding:.75rem 1rem;border:1px solid #ddd;border-radius:8px;font-size:1rem;margin-bottom:1rem;
    }
    input[type=file]{padding:.5rem;}
    .btn{
      display:inline-block;background:var(--primary);color:#fff;padding:.9rem 1.5rem;border:none;border-radius:8px;font-size:1.05rem;font-weight:600;cursor:pointer;width:100%;text-align:center;transition:background .2s;
    }
    .btn:hover{background:var(--primary-dark);}
    .note{font-size:.85rem;color:#666;margin-top:.75rem;text-align:center;}
    #msg{margin-top:1rem;font-weight:600;text-align:center;}
    .success{color:green;}
    .error{color:var(--danger);}
  </style>
</head>
<body>
  <div class="container">
    <h1>Instant QA Reports for Contact-Center Calls</h1>
    <p class="sub">Drop up to 50 call recordings. We email you a polished, branded QA PDF in about five minutes—no software to install.</p>

    <div class="card">
      <form id="upForm">
        <label for="email">Business email</label>
        <input type="email" id="email" placeholder="you@company.com" required>

        <label for="company">Company name</label>
        <input type="text" id="company" placeholder="Acme Call Center" required>

        <label for="files">Call recordings or chat transcripts</label>
        <input type="file" id="files" multiple accept="audio/*,.txt" required>

        <a id="payBtn" href="https://buy.stripe.com/YOUR_PAYMENT_LINK" target="_blank" class="btn">Pay $299 →</a>
        <div class="note">Secure checkout opens in a new tab. Return here to upload.</div>
      </form>
      <div id="msg"></div>
    </div>
  </div>

<script>
const form   = document.getElementById("upForm");
const msg    = document.getElementById("msg");
const payBtn = document.getElementById("payBtn");

/* only show upload form after Stripe returns with ?paid=ok */
if (window.location.search.includes("paid=ok")) {
  payBtn.style.display = "none";
  msg.innerHTML = '<span class="success">Payment received—upload your files below.</span>';
} else {
  form.style.display = "none";
  msg.innerHTML = '<span class="error">Please complete payment first, then return to this page.</span>';
}

/* upload handler */
form.addEventListener("submit", async (e) => {
  e.preventDefault();
  const data = new FormData();
  data.append("email",   document.getElementById("email").value);
  data.append("company", document.getElementById("company").value);
  for (let f of document.getElementById("files").files) data.append("files", f);

  msg.innerHTML = "Uploading…";
  try {
    const r = await fetch("https://YOUR_DOMAIN.up.railway.app/upload", {method:"POST", body:data});
    const j = await r.json();
    msg.innerHTML = '<span class="success">' + (j.detail || "Done! Check email.") + '</span>';
  } catch (err) {
    msg.innerHTML = '<span class="error">Upload failed—please refresh and try again.</span>';
  }
});
</script>
</body>
</html>
